<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <button onclick="sendTestData()">Отправить тестовые данные</button>
    <button onclick="sendFormData()">Отправить форму</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        function sendTestData() {
            const data = {
                action: 'button_clicked',
                click_count: 5,
                timestamp: new Date().toISOString()
            };
            tg.sendData(JSON.stringify(data));
        }
        
        function sendFormData() {
            const formData = {
                action: 'form_submitted',
                name: 'Иван Иванов',
                email: 'ivan@example.com',
                message: 'Привет! Это тестовое сообщение из Mini App',
                user_id: tg.initDataUnsafe.user?.id
            };
            tg.sendData(JSON.stringify(formData));
        }
        
        // Обработчик ответа от бота (если нужно)
        tg.onEvent('viewportChanged', (event) => {
            console.log('Viewport changed:', event);
        });
    </script>
</body>
</html>